<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
    1、使用下载属性
    将属性添加到链接将强制浏览器下载文件，而不是导航链接。注意：ie11不支持下载属性:download 
    -->
    <!-- <a href="/path/to/file" download>Download</a> -->
    <script>
        // 2. 触发点击事件

        // const link = document.createElement('a');
        // link.download = 'file name';
        // link.href = '/path/to/file';

        // document.body.appendChild(link);

        // link.click();

        // document.body.removeChild(link);


        /*
         * 3、下载包含生成数据的的文件
         * 下载包含数据文件很常见，例如
         * - 一个json
         * - 文本
         * - 图像
         * 从数据中，我们可以将其转换为Blob，然后触发事件
         */

        const data = JSON.stringify({
            'message': 'Hello World'
        });
        const blob = new Blob([data], {
            type: 'application/json'
        });

        //  创建一个新URL
        const url = window.URL.createObjectURL(blob);

        window.URL.revokeObjectURL(url);
    </script>
</body>

</html>